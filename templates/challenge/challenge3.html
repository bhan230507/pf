<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airflow를 더 단순하게 - 한기정 포트폴리오</title>
    <link rel="stylesheet" href="../project-style.css">
</head>
<body>
    <div class="container">
        <a href="../../index.html#challenge-tab" class="back-button">
            ← 메인으로 돌아가기
        </a>

        <div class="project-header">
            <h1 class="project-title">Airflow를 더 단순하게</h1>
            <div class="project-category">Workflow Automation & Team Enablement</div>
            <p class="project-description">
                복잡한 Airflow를 팀원들이 쉽게 사용할 수 있도록 단순화하고 표준화했습니다. 
                개발 지식이 없는 직원들도 DAG를 만들고 관리할 수 있는 시스템을 구축했습니다.
            </p>
            <div class="project-meta">
                <div class="meta-item">
                    <div class="icon">⚙️</div>
                    <span>워크플로우</span>
                </div>
                <div class="meta-item">
                    <div class="icon">👥</div>
                    <span>팀 교육</span>
                </div>
                <div class="meta-item">
                    <div class="icon">☁️</div>
                    <span>클라우드</span>
                </div>
            </div>
        </div>

        <div class="project-content">
            <div class="project-image">
                <img src="../history/challengeImg/challenge3_web.png" alt="Airflow 웹 UI 화면" class="clickable-image" onclick="openImageModal('../history/challengeImg/challenge3_web.png', 'Airflow 웹 UI 화면')">
            </div>

            <div class="project-details">
                <div class="section">
                    <h2 class="section-title">문제 상황</h2>
                    <ul class="features-list">
                        <li>모든 데이터 수집 및 자동화를 혼자 할 수 없어 팀원들에게 자동화 교육 필요</li>
                        <li>크론잡, 단순 스케줄링 등을 알려주기에는 체계가 부족하고 유지보수 불가능</li>
                        <li>팀원들은 데이터를 수집, 수정, 적재하는 간단한 ETL 설계 및 구축 능력은 보유</li>
                        <li>이 흐름을 관리할 수 있는 체계적인 툴이 필요</li>
                    </ul>
                </div>

                <div class="section">
                    <h2 class="section-title">Airflow 도입 과정</h2>
                    <ul class="features-list">
                        <li>각 데이터 관련 기업의 JD를 통해 Airflow에 대해 알게 됨</li>
                        <li>유료 강의를 통해 학습하고 유용성에 대해 인식</li>
                        <li>리눅스 기반 프로그램이라 VM, Docker 환경이 필요</li>
                        <li>Windows PC에서 WSL 운영 시 네트워크 충돌 문제로 안정성 부족</li>
                        <li>사내 다른 PC 운영 시 부재 시 유지보수 문제 발생 가능</li>
                    </ul>
                </div>

                <div class="section">
                    <h2 class="section-title">GCP 기반 구축</h2>
                    <ul class="features-list">
                        <li>최종적으로 GCP의 VM인 Compute Engine 사용 결정</li>
                        <li>8GB RAM, 4 Core 서버를 합리적인 가격대로 선정</li>
                        <li>회사 비용으로 처리되는 리소스에 대한 신중한 선택</li>
                        <li>설치 및 연결은 가능했지만 운영의 문제에 직면</li>
                    </ul>
                </div>

                <div class="section">
                    <h2 class="section-title">핵심 도전과제</h2>
                    <ul class="features-list">
                        <li><strong>가장 큰 문제: 개발을 전혀 모르는 직원에게 어떻게 운영하게 할 것인가?</strong></li>
                        <li>DAG를 만들게 하는 방법은?</li>
                        <li>유지보수가 가능하게 하는 방법은?</li>
                        <li>KubernetesExecutor는 매력적이지만 관리적 측면에서 어려움</li>
                        <li>CeleryExecutor를 선택하여 분산 병렬 처리 가능</li>
                    </ul>
                    
                    <div class="project-image">
                        <img src="../history/challengeImg/challenge3_docker_compose_celeryexecutor.png" alt="Docker Compose와 CeleryExecutor 설정" class="clickable-image" onclick="openImageModal('../history/challengeImg/challenge3_docker_compose_celeryexecutor.png', 'Docker Compose와 CeleryExecutor 설정')">
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">단순화 전략</h2>
                    <ul class="features-list">
                        <li><strong>1. 태스크 오퍼레이터는 무조건 Python으로 단 한 개의 파일로만 컨트롤</strong></li>
                        <li><strong>2. 태스크 브랜치는 사용하지 않고 Python 코드 내 함수로 컨트롤</strong></li>
                        <li><strong>3. 내가 없어도 유지보수 가능해야 함</strong></li>
                        <li><strong>4. 모든 DAG는 간단하게 구조화하여 단순하게 작성 가능해야 함</strong></li>
                        <li>다양한 오퍼레이터 대신 핵심 기능에 집중</li>
                        <li>복잡한 Async 사용하지 않고 특정 함수 내에서 병렬 처리</li>
                    </ul>
                    
                    <div class="project-image">
                        <img src="../history/challengeImg/challenge3_simple_dag.png" alt="단순화된 DAG 구조" class="clickable-image" onclick="openImageModal('../history/challengeImg/challenge3_simple_dag.png', '단순화된 DAG 구조')">
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">기술 스택</h2>
                    <div class="tech-stack">
                        <span class="tech-tag">Apache Airflow</span>
                        <span class="tech-tag">GCP Compute Engine</span>
                        <span class="tech-tag">CeleryExecutor</span>
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">Docker</span>
                        <span class="tech-tag">Linux</span>
                        <span class="tech-tag">ETL</span>
                        <span class="tech-tag">Workflow Management</span>
                        <span class="tech-tag">Team Training</span>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">성과 및 결과</h2>
                    <ul class="features-list">
                        <li><strong>Key-Value 구조 기반 DAG 생성 시스템 구축</strong></li>
                        <li>일반 사용자도 설정 가능한 구조로 팀원들이 DAG 생성 가능</li>
                        <li>Airflow 기본 UI를 통한 로그 확인 등 운영 기능을 직원들이 직접 활용 가능</li>
                        <li>개발 지식이 없는 직원들도 Airflow 운영 가능</li>
                        <li>표준화된 구조로 유지보수성 확보</li>
                        <li>팀원들의 자동화 역량 향상 및 업무 효율성 증대</li>
                        <li>분산 병렬 처리를 통한 성능 최적화</li>
                        <li>확장 가능하고 안정적인 워크플로우 관리 시스템 완성</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- 이미지 모달 -->
    <div class="image-modal" id="imageModal">
        <button class="close-button" onclick="closeImageModal()">&times;</button>
        <img id="modalImage" src="" alt="확대된 이미지">
    </div>

    <script>
        // 이미지 모달 열기
        function openImageModal(imageSrc, imageAlt) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            
            modalImage.src = imageSrc;
            modalImage.alt = imageAlt;
            modal.classList.add('active');
            
            // ESC 키로 닫기
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeImageModal();
                }
            });
        }

        // 이미지 모달 닫기
        function closeImageModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
        }
    </script>
</body>
</html>
